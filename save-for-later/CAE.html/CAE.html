CAE Advanced Ingest Profile Settings
<p>This document provides a list of advanced CAE parameters than can be set as part of a custom Video Cloud CAE Ingest Profile. &nbsp;By default Video Cloud offers three preset CAE enabled profiles: multi-platform-standard-dynamic, multi-platform-extended-dynamic, and low-bandwidth-dynamic. &nbsp;Customers who prefer to fine tune their CAE settings can create custom Ingest profiles including any of the following parameters. &nbsp;</p><h2 >dynamic_profile_options </h2><p >The following parameters may be specified as part of the dynamic_profiles_options block for a CAE enabled Video Cloud Ingest Profile:</p><br><div ><table ><colgroup><col width="194"><col width="99"><col width="176"><col width="175"></colgroup><tbody><tr ><td ><p >Name</p></td><td ><p >Type</p></td><td ><p >Description</p></td><td ><p >Defaults</p></td></tr><tr ><td ><p >"min_renditions"</p></td><td ><p >integer number</p></td><td ><p >Minimum number of renditions to generate. &nbsp;</p></td><td ><p >Default = 1<br class="kix-line-break">Range &nbsp;&nbsp;= &nbsp;1 - 15</p></td></tr><tr ><td ><p >"max_renditions"</p></td><td ><p >integer number</p></td><td ><p >Maximum number of renditions to generate.</p></td><td ><p >Default = 6<br class="kix-line-break">Range &nbsp;&nbsp;= &nbsp;1 - 15</p></td></tr><tr ><td ><p >"max_resolution"</p></td><td ><p >structure<br class="kix-line-break">{"width" : &lt;int&gt;, &nbsp;&nbsp;"height": &lt;int&gt; }</p></td><td ><p >Maximum resolution to be considered for the ladder.</p><p >(Aspect ratio of source will be preserved for outputs)</p></td><td ><p >Default = source resolution<br class="kix-line-break">Range = 1x1 - 8192x8192.<br class="kix-line-break"><br class="kix-line-break"></p></td></tr><tr ><td ><p >"max_frame_rate"</p></td><td ><p >floating point number</p></td><td ><p >Maximum frame rate that can be used.</p></td><td ><p >Default = 30</p><p >Range = 0.1 - 120</p></td></tr><tr ><td ><p >"keyframe_rate"</p></td><td ><p >floating point number</p></td><td ><p >Keyframe rate. &nbsp;This value can be either 0.5 or 1. &nbsp;For SSAI enabled content, this value needs to be 1.</p></td><td ><p >Default = 0.5fps</p></td></tr><tr ><td ><p >"min_bitrate"</p></td><td ><p >floating point number</p></td><td ><p >Minimum bitrate [kbps] that can be used.</p></td><td ><p >Default = 200 Kbps<br class="kix-line-break">Range &nbsp;&nbsp;= &nbsp;40 - 400</p></td></tr><tr ><td ><p >"max_bitrate"</p></td><td ><p >floating point number</p></td><td ><p >Maximum bitrate [kbps] that can be used. </p></td><td ><p >Default = 15000 Kbps<br class="kix-line-break">Range &nbsp;&nbsp;= &nbsp;400 - 40000</p></td></tr><tr ><td ><p >"max_first_rendition_bitrate"</p></td><td ><p >floating point number</p></td><td ><p >Maximum bitrate [kbps] that can be used for first rendition.</p></td><td ><p >Default = 400 Kbps<br class="kix-line-break">Range &nbsp;&nbsp;= &nbsp;40 - 1000</p></td></tr><tr ><td ><p >"min_ssim"</p></td><td ><p >floating point number</p></td><td ><p >Lowest allowed SSIM for each rendition. </p></td><td ><p >Default = 0.94</p><p >Range &nbsp;&nbsp;= 0.8 - 0.99</p></td></tr><tr ><td ><p >"max_ssim"</p></td><td ><p >floating point number</p></td><td ><p >Highest allowed SSIM for each rendition. </p></td><td ><p >Default = 0.99</p><p >Range &nbsp;&nbsp;= 0.9 - 0.99</p></td></tr><tr ><td ><p >"video_configurations"</p></td><td ><p >array </p></td><td ><p >An array of structures describing resolutions, framerates and associated codec parameters that should be preferentially or mandatorily generated as part of the CAE encoding. See section below.</p></td><td ><br></td></tr><tr ><td ><p >"select_baseline_profile_configuration"</p></td><td ><p >boolean</p></td><td ><p >At least one rendition used in the profile will be baseline profile</p></td><td ><p >Default = false</p></td></tr></tbody></table></div><br><h2 >video_configurations </h2><p >This is an array of structures describing video resolutions and codec parameters that CAE should/must produce as part of its output. This array is optional. If omitted, an array of 16 resolutions, ranging from 192x108 to 1920x1080 will be used as the default &nbsp;input set for CAE.</p><br><p >Each element in video_configurations array, may include the following elements:</p><div ><table ><colgroup><col width="170"><col width="142"><col width="217"><col width="125"></colgroup><tbody><tr ><td ><p >Name</p></td><td ><p >Type</p></td><td ><p >Description</p></td><td ><p >Required/optional</p></td></tr><tr ><td ><p >"width"</p></td><td ><p >integer number</p></td><td ><p >Video frame width [pixels]</p></td><td ><p >Required</p></td></tr><tr ><td ><p >"height"</p></td><td ><p >integer number</p></td><td ><p >Video frame height [pixels]</p></td><td ><p >Required</p></td></tr><tr ><td ><p >“sample_aspect_ratio”</p></td><td ><p >integer:integer pair</p></td><td ><p >Sample aspect ratio (e.g. 1:1, 4:3)</p></td><td ><p >Optional</p></td></tr><tr ><td ><p >"frame_rate"</p></td><td ><p >floating point number</p></td><td ><p >Video frame rate [fps]</p></td><td ><p >Optional</p></td></tr><tr ><td ><p >"video_codec_profile"</p></td><td ><p >string </p></td><td ><p >video codec profile</p></td><td ><p >Optional</p></td></tr><tr ><td ><p >"video_codec_level"</p></td><td ><p >string</p></td><td ><p >video codec level</p></td><td ><p >Optional</p></td></tr><tr ><td ><p >"video_reference_frames"</p></td><td ><p >integer number</p></td><td ><p >Constraint on number of reference frames. Default=4.</p></td><td ><p >Optional</p></td></tr><tr ><td ><p >"video_bframes"</p></td><td ><p >integer number</p></td><td ><p >Constraint on number of B frames. </p><p >Default=3. </p></td><td ><p >Optional</p></td></tr><tr ><td ><p >"required"</p></td><td ><p >boolean</p></td><td ><p >Setting this to true will guarantee the suggested configuration settings in the output</p></td><td ><p ><br class="kix-line-break">Default = false</p></td></tr></tbody></table></div><br><br><p >Ingest Profile example: </p><p >The following JSON provides an example custom Video Cloud CAE Ingest Profile:</p><br><div ><table ><colgroup><col width="*"></colgroup><tbody><tr ><td ><p >{</p><p > "id": "1234567890",</p><p > "version": 1,</p><p > "name": "custom-cae-profile",</p><p > "description": "My custom CAE profile",</p><p > "account_id": 40000000001,</p><p > "brightcove_standard" : false,</p><p > "digital_master": {</p><p > &nbsp;&nbsp;"rendition": "passthrough",</p><p > &nbsp;&nbsp;"distribute": false</p><p > },</p><p > "dynamic_origin": {</p><p > &nbsp;&nbsp;"renditions": [</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"default/audio64",</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"default/audio96",</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"default/audio128",</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"default/audio192"</p><p > &nbsp;&nbsp;],</p><p > &nbsp;&nbsp;"dynamic_profile_options": {</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"min_renditions": 3,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"max_renditions": 6,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"max_resolution": {</p><p > &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"width": 1920,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"height": 1080</p><p > &nbsp;&nbsp;&nbsp;&nbsp;},</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"max_bitrate": 4200,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"max_first_rendition_bitrate": 400,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"max_frame_rate": 30,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"keyframe_rate": 0.5,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"select_baseline_profile_configuration": true,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"min_ssim": 0.95,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;"video_configurations": [<br class="kix-line-break"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"width": 1280, "height": 720}, <br class="kix-line-break"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"width": 960, &nbsp;"height": 540}, <br class="kix-line-break"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"width": 640, &nbsp;"height": 360} </p><p > &nbsp;&nbsp;&nbsp;&nbsp;]</p><p > &nbsp;&nbsp;},</p><p > &nbsp;&nbsp;"images": [</p><p > &nbsp;&nbsp;&nbsp;&nbsp;{</p><p > &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"label": "poster",</p><p > &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"height": 720,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"width": 1280</p><p > &nbsp;&nbsp;&nbsp;&nbsp;}, </p><p > &nbsp;&nbsp;&nbsp;&nbsp;{</p><p > &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"label": "thumbnail",</p><p > &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"height": 90,</p><p > &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"width": 160</p><p > &nbsp;&nbsp;&nbsp;&nbsp;}</p><p > &nbsp;&nbsp;]</p><p > }</p><p >}</p></td></tr><tr ><td ><br></td></tr></tbody></table></div><br><p >Please use the instructions at http://docs.brightcove.com/en/video-cloud/ingest-profiles-api/index.html to create custom Ingest Profiles. </p><br><p >Guidelines for using CAE options: </p><br><p >The following table includes some guidelines for using CAE parameters</p><br><div ><table ><colgroup><col width="173"><col width="401"></colgroup><tbody><tr ><td ><p >Profile characteristics</p></td><td ><p >Guidelines</p></td></tr><tr ><td ><p >number of renditions</p></td><td ><p >Is controllable by using “min_renditions”, ”max_renditions” &nbsp;parameters. When setting these parameters it is desirable to leave a certain gap (e.g. 3-4 renditions) between “min_renditions” and ”max_renditions” limits. This gap will allow profile generator to adapt the number of renditions based on characteristics of the content. E.g., for easy to encode content, it may produce fewer renditions, while for more complex content it may produce more.</p></td></tr><tr ><td ><p >set of resolutions</p></td><td ><p >By default, profile generator uses a ladder of over 20 common resolutions, ranging from 192x108 to 3840x2160. It can truncated at any point by setting "max_resolution" parameter. </p><p >Alternatively, a custom list of resolutions and associated codec parameters can be provided by using “video_configurations” array.</p></td></tr><tr ><td ><p >GOP length</p></td><td ><p >Is settable by "keyframe_rate" parameter. &nbsp;This value can be either 0.5 (meaning 1 keyframe every 2 seconds) &nbsp;or 1 . &nbsp;For SSAI enabled content, this value needs to be 1.</p></td></tr><tr ><td ><p >Range of bitrates </p><br></td><td ><p >Can be set by using the "min_bitrate" and "max_bitrate" parameters. This will guarantee that first rendition will use at least "min_bitrate" kbps, and that last rendition will use less or equal than "max_bitrate" kbps.</p></td></tr><tr ><td ><p >Startup latency</p></td><td ><p >Is controllable by setting "max_first_rendition_bitrate" limit.</p></td></tr><tr ><td ><p >Support for legacy devices</p></td><td ><p >Is controllable by setting "select_baseline_profile_configuration" parameter. When this is true, at least one rendition will be encoded with H.264 baseline profile. </p></td></tr><tr ><td ><p >Quality control</p></td><td ><p >Parameter “min_ssim” can be used to ensure that all renditions are encoded at given structural similarity (SSIM) index level. Foe example setting “min_ssim”: 0.97, will enforce all renditions to be encoded at at least 0.97 SSIM level. Overly aggressive settings may reduce the effectiveness of CAE.</p></td></tr></tbody></table></div></div></div>
      <script></script>
    </body>
    </html>

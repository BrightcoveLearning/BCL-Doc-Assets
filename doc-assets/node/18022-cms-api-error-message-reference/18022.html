<article class="bcls-article">
<section class="bcls-section">
<h2 id="errorMessages">General error messages</h2>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Status</th>
			<th>Name</th>
			<th>Message</th>
			<th>Cause</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td>400</td>
			<td><code class="notranslate">BAD_REQUEST</code></td>
			<td><code class="notranslate">ILLEGAL_PATH: A request for more than 10 videos is not supported</code></td>
			<td>The basic <code class="notranslate">GET /videos/video_ids</code> request cannot request more than 10 videos</td>
		</tr>
		<tr>
			<td>400</td>
			<td><code class="notranslate">INVALID_SORT</code></td>
			<td><code class="notranslate">Attempted to sort by invalid property: '[property name]'</code></td>
			<td>The <code class="notranslate">sort</code> param pointed to an invalid or non-existent field</td>
		</tr>
		<tr>
			<td>400</td>
			<td><code class="notranslate">INVALID_SEARCH</code></td>
			<td><code class="notranslate">Search string was invalid</code></td>
			<td>The search string syntax was invalid, or you failed to URIEncode the search string</td>
		</tr>
		<tr>
			<td>400</td>
			<td><code class="notranslate">ILLEGAL_QUERY</code></td>
			<td><code class="notranslate">There was a problem with the query string</code></td>
			<td>The search string syntax was invalid - example: 1) doing a <code class="notranslate">tags</code> search that ends with a comma or has an unclosed quote</td>
		</tr>
		<tr>
			<td>400</td>
			<td><code class="notranslate">BAD_VALUE</code></td>
			<td><code class="notranslate">Unrecognized field in the submitted data</code></td>
			<td>Spelling error or other use of non-existent field</td>
		</tr>
		<tr>
			<td>400</td>
			<td><code class="notranslate">AD_CONFIG_NOT_FOUND</code></td>
			<td><code class="notranslate">Ad config not found</code></td>
			<td>Ad configuration specified in an SSAI request was not found</td>
		</tr>
		<tr>
			<td>400</td>
			<td><code class="notranslate">AD_CONFIG_INACTIVE</code></td>
			<td><code class="notranslate">Ad config is inactive</code></td>
			<td>Ad configuration specified in an SSAI request is inactive</td>
		</tr>
		<tr>
			<td>400</td>
			<td><code class="notranslate">REFERENCES_EXIST</code></td>
			<td><code class="notranslate">This video is referenced by at least one playlist.</code></td>
			<td>You are attempting to delete a video that is included in at least one playlist.</td>
		</tr>
		<tr>
			<td>400</td>
			<td><code class="notranslate">SHARED_VIDEO</code></td>
			<td><code class="notranslate">Delete of shared video failed.</code></td>
			<td>Deletion of shared videos is not yet supported.</td>
		</tr>
		<tr>
			<td>401</td>
			<td><code class="notranslate">UNAUTHORIZED</code></td>
			<td><code class="notranslate">Permission denied.</code></td>
			<td>Missing or invalid OAuth access token. If you did supply an access token, it may not have for the appropriate scope for this request</td>
		</tr>
		<tr>
			<td>403</td>
			<td><code class="notranslate">NOT_AVAILABLE</code></td>
			<td><code class="notranslate">Resource is not available.</code></td>
			<td>The resource you are requesting is temporarily unavailable - this may be a temporary condition while some kind of processing of the video is in progress, but if the message persists, contact Support.</td>
		</tr>
		<tr>
			<td>404</td>
			<td><code class="notranslate">NOT_FOUND</code></td>
			<td><code class="notranslate">Resource does not exist.</code></td>
			<td>You requested a resource that does not exist - check spelling.</td>
		</tr>
		<tr>
			<td>405</td>
			<td><code class="notranslate">METHOD_NOT_ALLOWED</code></td>
			<td><code class="notranslate">The HTTP method used for the request is not allowed for this resource</code></td>
			<td>The most common cause is sending a PUT, POST, PATCH, or DELETE to a read-only resource.</td>
		</tr>
		<tr>
			<td>406</td>
			<td><code class="notranslate">NOT_ACCEPTIBLE</code></td>
			<td><code class="notranslate">The HTTP Accept header has a value not allowed.</code></td>
			<td>The <code>Accept</code> header must have the value <code>application/json</code>; other values such as <code> application/x-www-form-urlencoded</code> will cause the request to be rejected with this error.</td>
		</tr>
		<tr>
			<td>409</td>
			<td><code class="notranslate">LIVE_VIDEOS_NOT_SHAREABLE</code></td>
			<td><code class="notranslate">This video cannot be shared because it is live.</code></td>
			<td>Live streaming videos and clips created from them cannot be shared.</td>
		</tr>
		<tr>
			<td>409</td>
			<td><code class="notranslate">REFERENCE_ID_IN_USE</code></td>
			<td><code class="notranslate">Reference id is already in use.</code></td>
			<td>You attempted to create a video with a reference id that is already in use, or add a reference id to a video which is already used by another video.</td>
		</tr>
		<tr>
			<td>409</td>
			<td><code class="notranslate">CONCURRENT_UPDATE</code></td>
			<td><code class="notranslate">Update failed because of another update at the same time. Please try again.</code></td>
			<td>Either a separate API request, a Studio user, or some system process is currently updating the video.</td>
		</tr>
		<tr>
			<td>409</td>
			<td><code class="notranslate">CONFLICT</code></td>
			<td><code class="notranslate">Reference id is already in use.</code></td>
			<td>To insure uniqueness of reference ids, operations involving reference ids will lock the id for up to 30 seconds. That means that if you remove a reference id from a video (or delete that video) and then try to use the reference id for another video immediately, the operation will fail with a 409 error. Please wait at least 30 seconds after getting this error before retrying the operation. Note also that if you attempt the create a video with a reference id, and the attempt fails (for reasons unrelated to the reference id), that reference id will be locked for 30 seconds, and repeated attempts to create the video will fail until you wait long enough for the reference id to be unlocked.</td>
		</tr>
		<tr>
			<td>409</td>
			<td><code class="notranslate">CONFLICT</code></td>
			<td><code class="notranslate">Both accounts must be enabled for media sharing.</code></td>
			<td>When a master account attempts to add an affiliate account to a channel for media sharing, <em>both</em> accounts must be enabled for media sharing.</td>
		</tr>
		<tr>
			<td>409</td>
			<td><code class="notranslate">UNSUPORTED_MEDIA_TYPE</code></td>
			<td>&nbsp;</td>
			<td>The request is most likely missing the header: <code class="notranslate">Content-Type: application/json</code>.</td>
		</tr>
		<tr>
			<td>415</td>
			<td><code class="notranslate">SHARING_DISABLED</code></td>
			<td><code class="notranslate">Master account is not enabled for media sharing.</code></td>
			<td>This error will be returned if you attempt to share a video from an account that does not have media sharing enabled.</td>
		</tr>
		<tr>
			<td>422</td>
			<td><code class="notranslate">ILLEGAL_FIELD</code></td>
			<td><code class="notranslate">Unrecognized field in the submitted data</code></td>
			<td>Spelling error or other use of non-existent field</td>
		</tr>
		<tr>
			<td>422</td>
			<td><code class="notranslate">VALIDATION_ERROR</code></td>
			<td>(the JSON data was not valid - error messages vary depending on the problem)</td>
			<td>Examples of messages:
			<ul>
				<li>name: REQUIRED_FIELD (create a video w/o a name, update name to empty string)</li>
				<li>account_id: WRONG_ACCOUNT &nbsp;(account ID in URL does not match account ID in JSON)</li>
				<li>Invalid keys: id (the id cannot be modified and should not appear as key in the JSON)</li>
			</ul>
			</td>
		</tr>
		<tr>
			<td>429</td>
			<td><code class="notranslate">TOO_MANY_REQUESTS</code></td>
			<td><code class="notranslate">Too many requests</code></td>
			<td>You are submitting too many simultaneous requests or too many requests per second</td>
		</tr>
		<tr>
			<td>500</td>
			<td><code class="notranslate">UNKNOWN</code></td>
			<td><code class="notranslate">an unknown internal error occurred</code></td>
			<td>Issue in Brightcove system - try again later.</td>
		</tr>
		<tr>
			<td>503</td>
			<td><code class="notranslate">SERVICE_UNAVAILABLE</code></td>
			<td><code class="notranslate">The API is temporarily unavailable</code></td>
			<td>Backend issue - try again later.</td>
		</tr>
		<tr>
			<td>504</td>
			<td><code class="notranslate">TIMEOUT</code></td>
			<td><code class="notranslate">something took too long</code></td>
			<td>Server likely too busy - try again later.</td>
		</tr>
	</tbody>
</table>
</section>

<section class="bcls-section">
<h2 id="Media_sharing_errors">Media Sharing Errors</h2>

<p>Media sharing errors are not returned as a separate error response to the API request, but rather in an <code class="notranslate">error_message</code> field in the normal response:</p>

<pre class="line-numbers">
<code class="language-json notranslate">[
{
"video_id" : "394872349182374",
"affiliate_id" : "234987239487",
"affiliate_video_id" : "30308254055202",
"status" : "COMPLETE",
"shared_at" : "2017-12-11T17:57:45.530Z",
"updated_at" : "2017-12-11T18:03:32.789Z",
"error_message" : <span class="bcls-highlight">"[{"error_code":"MISSING_CUSTOM_FIELDS","error_message":"Affiliate account is missing custom fields: [whisky]"}]"</span>
}
]
</code>
</pre>

<p>The <code class="notranslate">error_message</code> json will be an array of error objects, object will have <code class="notranslate">error_code</code> and <code class="notranslate">error_message</code>.</p>

<h3><code class="notranslate">error_code</code></h3>

<p>The error code will usually be sharing-specific but it could be any of the valid error codes that can be returned by a PATCH (update) operation on a video as well. The sharing specific error codes are shown in the table below.</p>

<table class="bcls-table">
	<caption class="bcls-caption--table">Media Sharing Error Codes</caption>
	<thead class="bcls-table__head">
		<tr>
			<th><code class="notranslate">error_code</code></th>
			<th><code class="notranslate">error_message</code></th>
			<th>Cause</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code class="notranslate">MISSING_CUSTOM_FIELDS</code></td>
			<td><code class="notranslate">Affiliate account is missing custom fields: [field1, field2]}</code></td>
			<td>The master has set <code class="notranslate">enforce_custom_fields</code> to <code class="notranslate">true</code>, but the video being shared references fields that do not exist in the affiliate account.</td>
		</tr>
		<tr>
			<td><code class="notranslate">CONFLICT</code></td>
			<td><code class="notranslate">Affiliate account is not configured for geo restriction.</code></td>
			<td>The master has enforce_geo set to true and their account is configured for geo-filtering, but the affiliate account is not configured for geo-filtering.</td>
		</tr>
		<tr>
			<td><code class="notranslate">SHARING_DISABLED</code></td>
			<td><code class="notranslate">Affiliate account is not enabled for media sharing.</code></td>
			<td>The master has attempted to share a video with an affiliate that is not enabled for media sharing.</td>
		</tr>
		<tr>
			<td><code class="notranslate">NOT_FOUND</code></td>
			<td><code class="notranslate">Resource does not exist.</code></td>
			<td>Something was missing. Usually this means the master video is gone. This can happen if a share request is immediately followed by a delete of the master video. This might also mean the master account does not have a channel yet or if the affiliate account does not exist or is not a valid member of the channel. This might happen if something went wrong in migration to CMS API media sharing.</td>
		</tr>
		<tr>
			<td><code class="notranslate">UNKNOWN</code></td>
			<td><code class="notranslate">Sharing failed with an unknown error, error_id INSERT-UNIQUE-ERROR-ID</code></td>
			<td>Something unexpected happened. The error_message will include an error id that can be used by devops to identify the underlying cause. Retrying the share attempt will work in many cases.</td>
		</tr>
		<tr>
			<td><code class="notranslate">VALIDATION_ERROR</code></td>
			<td><code class="notranslate">{field}: ILLEGAL_VALUE</code></td>
			<td>If {field} is "economics" then the problem is that the master video is "AD SUPPORTED" but the affiliate account does not have ads enabled. Also occurs if you set the Advertising to Ad supported on the video metadata (of a non-shared video) when the account is disabled for ads. If {field} is something else, then investigation is required.</td>
		</tr>
		<tr>
			<td><code class="notranslate">REFERENCE_ID_IN_USE</code></td>
			<td><code class="notranslate">Reference id whatever-you-used is already in use.</code></td>
			<td>The reference id was valid in the master account but is already in use by the affiliate account.</td>
		</tr>
	</tbody>
</table>
</section>
</article>

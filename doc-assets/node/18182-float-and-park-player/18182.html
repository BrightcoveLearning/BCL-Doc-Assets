<style type="text/css">#playerWrapper {
                    position: relative;
                    width: 340px;
                    background-color: #f5f5f5;
                    border: 1px solid black;
                    margin-bottom: 1em;
                    padding: 1em 1em 1em 1em;
                    transition-property: all;
                    transition-duration: 100ms;
                    transition-timing-function: ease-in-out;
                }
</style>
<article class="bcls-article">
<section id="The_player" class="bcls-section">
<h2>The player</h2>

<p data-height="500" data-theme-id="dark" data-slug-hash="dzvggJ" data-default-tab="result" data-user="bcls" data-embed-version="2" data-pen-title="Float and Park Brightcove Player" class="codepen">See the Pen <a href="https://codepen.io/team/bcls/pen/dzvggJ/">Float and Park Brightcove Player</a> by Brightcove Learning Services (<a href="https://codepen.io/bcls">@bcls</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
<br />
<aside class="bcls-aside bcls-aside--tip">To add picture-in-picture functionality to your player, also see the <a href="/node/18581">Picture-in-Picture Plugin</a> document.</aside>
<!-- <div id="playerWrapper"><iframe src="//players.brightcove.net/1752604059001/15933ac1-884c-40e0-8cae-a06c7d9e4c0a_default/index.html?videoId=5510487311001"
allowfullscreen
webkitallowfullscreen
mozallowfullscreen
width="300"
height="150"></iframe></div> -->
</section>

<section id="How_it_works" class="bcls-section">
<h2>How it works</h2>

<p>The following sections explain the player, JavaScript and CSS code used in the example.</p>

<h3>The HTML code</h3>

<ol class="bcls-tasklist">
	<li>Add the following HTML code to your page code wherever you want the player to appear initially:
	<pre class="line-numbers" data-start="1">
<code class="language-html">&lt;div id="playerWrapper"&gt;
&lt;/div&gt;</code></pre>
	</li>
</ol>
<!-- <p><script src="https://gist.github.com/41417d7b10784aabe4dd.js"></script></p> -->

<h3>Create the player</h3>

<p>The Brightcove Default Player was used for this sample. To create a new player, and assign a video to it, follow these steps:</p>

<ol class="bcls-tasklist">
	<li>In the <strong>Players</strong> module, duplicate the Brightcove Default Player.</li>
	<li><strong>Publish</strong> the player.</li>
	<li><span class="video-cloud-only">In the <strong>Media</strong> module, select a video and publish it with this player.</span><span class="player-only">Assign video content to the player and publish it.</span></li>
	<li>
	<p>Copy the <strong>iframe</strong> embed code and paste it inside the <strong>playerWrapper</strong> div tag.</p>

	<p>The player wrapper with the embed code should look like this:</p>

	<pre class="line-numbers" data-start="1">
<code class="language-html">&lt;div id="playerWrapper" class="drag"&gt;
    &lt;iframe src='//players.brightcove.net/1752604059001/15933ac1-884c-40e0-8cae-a06c7d9e4c0a_default/index.html?videoId=4511340777001' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;</code></pre>
	<!-- <p><script src="https://gist.github.com/0e4e148e4e89b53c6aa2.js"></script></p> -->

	<aside class="bcls-aside bcls-aside--tip">For details on how to get this embed code, see the <a href="/node/18081">Quick Start to Brightcove Player</a> document.</aside>
	</li>
</ol>

<h3>The JavaScript code</h3>

<ol class="bcls-tasklist">
	<li>
	<p>Add the following JavaScript, which handles the drag and drop actions, to your page code.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-html">var BCLS = (function (window, document) {
    var // player wrapper
        playerWrapper = document.getElementById('playerWrapper'),
        // get the wrapper's initial position
        playerWrapperBox = playerWrapper.getBoundingClientRect(),
        rightMove = Math.round(playerWrapperBox.right),
        bottomMove = Math.round(playerWrapperBox.bottom);
        console.log('playerWrapperBox', playerWrapperBox);
        /**
         * moves the player to bottom right corner and fixes it there
         */
        function scrollListener() {
            var t;
            // remove the scroll event listener
            window.removeEventListener('scroll', parkPlayer);
            // move the player after a half-second delay
            t = window.setTimeout(parkPlayer, 500);
        }

        function parkPlayer() {
            var currentX = 0,
                currentY = 0,
                newX,
                newY;

            while (currentY &lt; bottomMove) {
                currentY++;
                if (currentX &lt; rightMove) {
                    currentX++;
                }
                newY = bottomMove - currentY;
                newX = rightMove - currentX;
                playerWrapper.setAttribute('style', 'position:fixed;bottom:' + newY + 'px;right:' + newX + 'px;z-index:10000;');
            }

            // probably won't need this, but just in case
            while (currentX &lt; rightMove) {
                currentX++;
                newX = rightMove - currentX;
                playerWrapper.setAttribute('style', 'position:fixed;bottom:' + newY + 'px;right:' + newX + 'px;z-index:10000;');
            }

        }

        // add scroll event listener, but only listen once!
        window.addEventListener('scroll', scrollListener);

})(window, document);</code></pre>
	<!-- <p><script src="https://gist.github.com/687636920799a9387ff4.js"></script></p> -->

	<p>You can place the JavaScript inside a <code>script</code> tag in the page, or include it from an external <code>.js</code> file.</p>
	</li>
</ol>

<h3>The stylesheet</h3>

<ol class="bcls-tasklist">
	<li>
	<p>Add the following CSS to your page:</p>

	<pre class="line-numbers" data-start="1">
<code class="language-css">#playerWrapper {
    position: relative;
    width: 340px;
    background-color: #f5f5f5;
    border: 1px solid black;
    margin-bottom: 1em;
    padding: 1em 1em 1em 1em;
    transition-property: all;
    transition-duration: 100ms;
    transition-timing-function: ease-in-out;
}</code></pre>
	<!-- <p><script src="https://gist.github.com/24fde17a987c864137a3.js"></script></p> -->

	<aside class="bcls-aside bcls-aside--information">The width of the player wrapper <code>div</code> is based on the default size of the player - if you are using a different size, you will need to adjust it.</aside>
	</li>
	<li>Browse the HTML page. You should be able to click and drag the <span class="drag-icon">+</span> icon beside the player to reposition it.</li>
</ol>
</section>
</article>
<script>
var BCLS = (function (window, document) {
var // player wrapper
    playerWrapper = document.getElementById('playerWrapper'),
    // get the wrapper's initial position
    playerWrapperBox = playerWrapper.getBoundingClientRect(),
    rightMove = Math.round(playerWrapperBox.right),
    bottomMove = Math.round(playerWrapperBox.bottom);
    console.log('playerWrapperBox', playerWrapperBox);
    /**
     * moves the player to bottom right corner and fixes it there
     */
    function scrollListener() {
        var t;
        // remove the scroll event listener
        window.removeEventListener('scroll', parkPlayer);
        // move the player after a half-second delay
        t = window.setTimeout(parkPlayer, 500);
    }

    function parkPlayer() {
        var currentX = 0,
            currentY = 0,
            newX,
            newY;

        while (currentY < bottomMove) {
            currentY++;
            if (currentX < rightMove) {
                currentX++;
            }
            newY = bottomMove - currentY;
            newX = rightMove - currentX;
            playerWrapper.setAttribute('style', 'position:fixed;bottom:' + newY + 'px;right:' + newX + 'px;z-index:10000;');
        }

        // probably won't need this, but just in case
        while (currentX < rightMove) {
            currentX++;
            newX = rightMove - currentX;
            playerWrapper.setAttribute('style', 'position:fixed;bottom:' + newY + 'px;right:' + newX + 'px;z-index:10000;');
        }

    }

    // add scroll event listener, but only listen once!
    document.addEventListener('scroll', scrollListener);

})(window, document);
</script>

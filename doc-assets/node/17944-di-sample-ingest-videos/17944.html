<article class="bcls-article">
<section class="bcls-section">
<h2 id="Limitations">Limitations</h2>

<aside class="bcls-aside bcls-aside--information">Dynamic Ingest does <strong>not</strong> have a mechanism for processing multiple videos - this sample simply executes a loop to make a Dynamic Ingest request for each video.</aside>
</section>

<section class="bcls-section">
<h2 id="gettingCredentials" class="bcls-expander-head">Getting Credentials</h2>

<div class="bcls-expander-content">
<p>To get a <code>client_id</code> and <code>client_secret</code>, you will need to go to the OAuth UI and register this app:</p>

<ul>
	<li><a href="/node/14056">Managing API Authentication Credentials</a></li>
</ul>

<p>These are the permissions you will need:</p>

<figure class="bcls-figure"><img class="bcls-image" alt="Dynamic Ingest Permissions" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/di-api/di-permissions.png" />
<figcaption class="bcls-caption--image">Dynamic Ingest Permissions</figcaption>
</figure>

<p>You can also get your credentials via CURL or Postman - see:</p>

<ul>
	<li><a href="/node/17924">Get Client Credentials Using CURL</a></li>
	<li><a href="/node/17923">Get Client Credentials Using Postman</a></li>
</ul>

<p>If you are getting credentials directly from the API, these are the permissions you need:</p>

<pre class="line-numbers">
<code class="language-json">[
  "video-cloud/video/all",
  "video-cloud/ingest-profiles/profile/read",
  "video-cloud/ingest-profiles/account/read",
  "video-cloud/upload-urls/read"
]</code></pre>
</div>
</section>

<section class="bcls-section">
<h2 id="rateLimiting">Rate limiting</h2>

<p>See <a href="/node/18948#best_practices">Best Practices</a> for information on rate limiting.</p>
</section>

<section class="bcls-section">
<h2 id="video_data">Video data</h2>

<p>This script expects a data set as a JSON array of objects like this:</p>

<p>Video data:<textarea id="videoData" class="bcls-code" style="height:20em;">[
    {
        "name": "Woodpecker",
        "description": "A bird that hunts insects inside wood",
        "url": "http://learning-services-media.brightcove.com/videos/mp4/Bird_Woodpecker.mp4",
        "reference_id": "Bird_Woodpecker.mp4",
        "tags": ["bird", "air", "nature"]
    },
    {
        "name": "Chickadee",
        "description": "A small friendly bird",
        "url": "http://learning-services-media.brightcove.com/videos/mp4/Bird_Chickadee.mp4",
        "reference_id": "Bird_Chickadee.mp4",
        "tags": ["bird", "air", "nature"]
    },
    {
        "name": "Great Blue Heron",
        "description": "Pair of great blue herons",
        "url": "http://learning-services-media.brightcove.com/videos/mp4/greatblueheron.mp4",
        "reference_id": "greatblueheron.mp4",
        "tags": ["bird", "air", "nature"]
    },
    {
        "name": "Great Horned Owl",
        "description": "Mother and child owls",
        "url": "http://learning-services-media.brightcove.com/videos/mp4/greathornedowl.mp4",
        "reference_id": "greathornedowl.mp4",
        "tags": ["bird", "air", "nature"]
    }
]</textarea></p>

<p>This is the actual data used in this sample. You could include other metadata fields, but you would need to modify the script a little to send those with the first API call. You'll also notice that these are risky values to use for reference ids, especially for a sample like this that will be run multiple times - but I am getting around the duplication issue by appending the current epoch time in milliseconds to whatever is in the data.</p>

<div class="form-wrapper">
<fieldset class="bcls-fieldset"><legend>Inputs for Dynamic Ingest</legend>

<p>Account: (defaults to Brightcove sample account) <input id="account_id" type="text" value="" name="account_id" /></p>

<p>Client id: (defaults to Brightcove sample account) <input id="client_id" type="text" value="" name="client_id" /></p>

<p>Client secret: (defaults to Brightcove sample account) <input id="client_secret" type="text" value="" name="client_secret" /></p>

<p>Ingest profile: <select id="ingest_profile_display"></select><br />
or Custom Profile: <input id="custom_profile_display" type="text" value="" name="custom_profile_display" /> (you must use the name exactly as it appears in the Video Cloud system, or the request will fail)</p>

<p>Full request URL for the CMS API call:<br />
<textarea class="bcls-code" name="url" id="cms_url"></textarea> (automatically generated - for information only)</p>

<p>Full request URL for the DI API call:<br />
<textarea class="bcls-code" name="url" id="di_url"></textarea> (automatically generated - for information only)</p>

<p><input id="di_Submit" type="submit" value="Start Ingest" /></p>
</fieldset>
</div>
</section>

<section class="bcls-section">
<h2 id="logger">Results Log</h2>

<pre class="line-numbers">
<code id="response" class="language-json">Response will appear here...</code></pre>
</section>


</article>

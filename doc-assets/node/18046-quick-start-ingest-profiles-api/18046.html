<article class="bcls-article"><!-- regular content slide -->
<section id="intro" class="bcls-section">
<h3>Introduction</h3>

<p>The Ingest Profiles API allows you to:</p>

<ul>
	<li>
	<p>Get the profiles for your account</p>
	</li>
	<li>
	<p>Create new profiles</p>
	</li>
	<li>
	<p>Update profiles</p>
	</li>
	<li>
	<p>Delete profiles</p>
	</li>
	<li>
	<p>Set or update the default profile for your account</p>
	</li>
</ul>
</section>

<section id="restful" class="bcls-section">
<h3>A Restful API</h3>

<p>The Ingest Profiles API is a RESTful API. It accepts HTTPS requests and returns a JSON response.</p>

<p>This means that you can use the API with any language you choose - Ruby, Java, PHP, Python, JavaScript (via AJAX or nodejs), etc. All you have to be able to do is make HTTPS requests and handle a JSON response.</p>
</section>

<section id="baseURL" class="bcls-section">
<h3>The base URL</h3>

<p>The base URL for the Ingest Profiles API is:</p>

<pre class="line-numbers">
<code class="language-http">https://ingestion.api.brightcove.com/v1</code></pre>
</section>

<section id="authorization" class="bcls-section">
<h3>Authorization</h3>

<p>API calls are authorized using OAuth2 access tokens. The token is passed with requests in an authorization header:</p>

<pre class="line-numbers">
<code class="language-bash">Authorization: Bearer {access_token}</code></pre>

<p>Access tokens are short-lived (5 min), so you must get one each time you make a request</p>

<p>In these exercises, we'll make requests via a <a href="/node/17925#php">proxy</a> that will fetch an access token and then make the request.</p>
</section>

<section id="setupSection" class="bcls-section">
<h2>Setup for the Exercises</h2>

<div id="setup" style="padding-left: 1.5em;max-width: 100%">
<h3>Setup</h3>

<p>You have two options:</p>

<ul>
	<li>Perform the exercises on a sample account (recommended)</li>
	<li>Use your own account</li>
</ul>

<p><button class="bcls-button" id="useSampleAccount">Use Sample Account</button><button class="bcls-button" id="useMyAccount">Use My Account</button></p>

<div id="basicInfo" style="display:none;">
<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<td>Video Cloud Account (Publisher ID):</td>
			<td><input id="account_id" type="text" size="30" /></td>
		</tr>
		<tr>
			<td class="align-top no-wrap">Client id:</td>
			<td>
			<p><input id="client_id" type="text" size="40" value="" /></p>
			</td>
		</tr>
		<tr>
			<td>Client secret:</td>
			<td>
			<p><input id="client_secret" type="text" size="40" value="" /></p>
			</td>
		</tr>
	</tbody>
</table>

<p><button class="bcls-button" id="setOptions">Set Account Options</button></p>

<p>See <a href="/node/14056">Managing API Credentials</a> for information on getting client credentials.</p>
</div>
</div>
</section>

<section id="getAllProfilesSection" class="bcls-section">
<h2>Getting all profiles</h2>

<h3>Getting the account profiles</h3>

<p>To get all the profiles for an account, make a GET request to the endpoint:</p>

<pre class="line-numbers">
<code class="language-http">/accounts/{account_id}/profiles</code></pre>

<p>Example:</p>

<pre class="line-numbers">
<code class="language-http">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles</code></pre>

<h3>Exercise 1: Get all profiles</h3>

<p>Make the following GET request:</p>
<textarea class="bcls-code" id="ex1request"></textarea>

<p><button id="ex1button" class="bcls-button">Submit Request</button></p>
<textarea class="bcls-code" id="ex1response" style="height:12em;">Response will appear here</textarea></section>

<section id="createProfilesSection" class="bcls-section">
<h2>Creating a profile</h2>

<h3>Creating profiles</h3>

<p>To create a profile, make a POST request to the endpoint:</p>

<pre class="line-numbers">
<code class="language-http">/accounts/{account_id}/profiles</code></pre>

<p>Example:</p>

<pre class="line-numbers">
<code class="language-http">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles</code></pre>

<p>The JSON for the profile is included as the request body. See the <a href="/node/18043">Profile Field Reference</a> for profile, rendition, and DRM package fields</p>

<h3>Exercise 2: Create a profile</h3>

<p>Make the following POST request:</p>
<textarea class="bcls-code" id="ex2request"></textarea><textarea class="bcls-code" id="ex2data" style="height:12em;"></textarea>

<p><button id="ex2button" class="bcls-button">Submit Request</button></p>

<p class="slide-only">(Response will appear on the next slide)</p>

<h3 class="slide-only">Exercise 2 Response</h3>
<textarea class="bcls-code" id="ex2response" style="height:12em;">Response will appear here</textarea></section>

<section id="getProfileByIdSection" class="bcls-section">
<h2>Getting a Single Profile</h2>

<h3>Getting a profile by id</h3>

<p>To retrieve a profile by id, make a GET request to the endpoint:</p>

<pre class="line-numbers">
<code class="language-http">/accounts/{account_id}/profiles/{profile_id}</code></pre>

<p>For the <code>profile_id</code>, you can use either the:</p>

<ul>
	<li>name (e.g. balanced-high-definition)</li>
	<li>generated id (e.g. 54de14cce4b0a6d2bf9cb08a)</li>
</ul>

<p>Examples:</p>

<pre class="line-numbers">
<code class="language-http">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/screencast
https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/54de14cce4b0a6d2bf9cb08a</code></pre>

<h3>Exercise 3: Get one profile</h3>

<p>Make the following GET request to get back the profile you created:</p>
<textarea class="bcls-code" id="ex3request"></textarea>

<p><button id="ex3button" class="bcls-button">Submit Request</button></p>
<textarea class="bcls-code" id="ex3response" style="height:12em;">Response will appear here</textarea></section>

<section id="updateProfileSection" class="bcls-section">
<h2>Updating a Profile</h2>

<h3>Update a profile by id</h3>

<p>To update a profile by id, make a PUT request to the endpoint:</p>

<pre class="line-numbers">
<code class="language-http">/accounts/{account_id}/profiles/{profile_id}</code></pre>

<p>For the <code>profile_id</code>, you can use either the:</p>

<ul>
	<li>name (e.g. balanced-high-definition)</li>
	<li>generated id (e.g. 54de14cce4b0a6d2bf9cb08a)</li>
</ul>

<p>Example:</p>

<pre class="line-numbers">
<code class="language-http">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/my-test-profile</code></pre>

<p>Include the profile data in the request body as you did when you created the profile. The profile data <strong>must</strong> include the <code>id</code> for the profile!</p>

<h3>Exercise 4: Update profile</h3>

<p>Make the following PUT request to update the profile you created (the description will be updated):</p>
<textarea class="bcls-code" id="ex4request"></textarea><textarea class="bcls-code" id="ex4data" style="height:12em;"></textarea>

<p><button id="ex4button" class="bcls-button">Submit Request</button></p>

<p class="slide-only">(Response will appear on the next slide)</p>

<h3 class="slide-only">Exercise 4 Response</h3>
<textarea class="bcls-code" id="ex4response" style="height:12em;">Response will appear here</textarea></section>

<section id="deleteProfileSection" class="bcls-section">
<h2>Deleting a Profile</h2>

<h3>Delete a profile by id</h3>

<p>To delete a profile by id, make a DELETE request to the endpoint:</p>

<pre class="line-numbers">
<code class="language-http">/accounts/{account_id}/profiles/{profile_id}</code></pre>

<p>For the <code>profile_id</code>, you can use either the:</p>

<ul>
	<li>name (e.g. balanced-high-definition)</li>
	<li>generated id (e.g. 54de14cce4b0a6d2bf9cb08a)</li>
</ul>

<p>Example:</p>

<pre class="line-numbers">
<code class="language-http">https://ingestion.api.brightcove.com/v1/accounts/57838016001/profiles/my-test-profile</code></pre>

<h3>Exercise 5: Delete profile</h3>

<p>Make the following DELETE request to update the profile you created (cannot be undone!):</p>
<textarea class="bcls-code" id="ex5request"></textarea>

<p><button id="ex5button" class="bcls-button">Submit Request</button></p>
<textarea class="bcls-code" id="ex5response" style="height:12em;">Response will appear here</textarea></section>

<section id="getDefaultProfileSection" class="bcls-section">
<h2>Getting Default Profile</h2>

<h3>Get the default profile</h3>

<p>To get the default profile for the account, make a GET request to the endpoint:</p>

<pre class="line-numbers">
<code class="language-http">/accounts/account_id/configuration</code></pre>

<p>Example:</p>

<pre class="line-numbers">
<code class="language-http">https://ingestion.api.brightcove.com/v1/accounts/57838016001/configuration
                    </code></pre>

<h3>Exercise 6: Get default profile</h3>

<p>Make the following GET request to get the default profile for the account:</p>
<textarea class="bcls-code" id="ex6request"></textarea>

<p><button id="ex6button" class="bcls-button">Submit Request</button></p>
<textarea class="bcls-code" id="ex6response" style="height:12em;">Response will appear here</textarea></section>

<section class="bcls-section">
<h2 id="setDefaultProfileSection">Setting Default Profile</h2>

<h3>Set the default profile</h3>

<p>To set the default profile for the account, make a POST request to the endpoint:</p>

<pre class="line-numbers">
<code class="language-http">/accounts/account_id/configuration</code></pre>

<p>Include this JSON as the request body</p>

<pre class="line-numbers">
<code class="language-json">{
  "account_id": {account_id},
  "default_profile_id": {default_profile_id}
}</code></pre>

<p>As with other operations you can use the name or id for the <code>profile_id</code>.</p>

<ul>
	<li>name (e.g. balanced-high-definition)</li>
	<li>generated id (e.g. 54de14cce4b0a6d2bf9cb08a)</li>
</ul>

<p>Example:</p>

<pre class="line-numbers">
<code class="language-http">https://ingestion.api.brightcove.com/v1/accounts/57838016001/configuration
                    </code></pre>

<h3>Exercise 7: Set default profile</h3>

<p>Make the following POST request to set the default profile (note that this will fail if the account already has a default profile - we will update the default in the next exercise):</p>
<textarea class="bcls-code" id="ex7request"></textarea><textarea class="bcls-code" id="ex7data" style="height:12em;"></textarea>

<p><button id="ex7button" class="bcls-button">Submit Request</button></p>

<p class="slide-only">(Response will appear on the next slide)</p>

<h3 class="slide-only">Exercise 7 Response</h3>
<textarea class="bcls-code" id="ex7response" style="height:12em;">Response will appear here</textarea></section>

<section id="updateDefaultProfileSection" class="bcls-section">
<h2>Updating Default Profile</h2>

<h3>Update the default profile</h3>

<p>To update the default profile for the account, make a PATCH request to the endpoint:</p>

<pre class="line-numbers">
<code class="language-http">/accounts/account_id/configuration</code></pre>

<p>Include this JSON as the request body</p>

<pre class="line-numbers">
<code class="language-json">{
  "id": {configuration_id},
  "account_id": {account_id},
  "default_profile_id": {default_profile_id}
}</code></pre>

<p>The configuration id is returned when you get the default profile. If there is no default profile, see <a href="#setDefaultProfileSection">Setting the Default Profile</a>. As with other operations you can use the name or id for the <code>profile_id</code>.</p>

<ul>
	<li>name (e.g. high-resolution)</li>
	<li>generated id (e.g. 54de14cce4b0a6d2bf9cb08a)</li>
</ul>

<p>Example:</p>

<pre class="line-numbers">
<code class="language-http">https://ingestion.api.brightcove.com/v1/accounts/57838016001/configuration
                    </code></pre>

<h3>Exercise 8: Update default profile</h3>

<p>Make the following PUT request to update the default profile for the account:</p>
<textarea class="bcls-code" id="ex8request"></textarea><textarea class="bcls-code" id="ex8data" style="height:12em;"></textarea>

<p><button id="ex8button" class="bcls-button">Submit Request</button></p>

<p class="slide-only">(Response will appear on the next slide)</p>

<h3 class="slide-only">Exercise 8 Response</h3>
<textarea class="bcls-code" id="ex8response" style="height:12em;">Response will appear here</textarea></section>
</article>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script><script src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/ingest-profiles-api/getting-started/quick-start/quick-start.js"></script>

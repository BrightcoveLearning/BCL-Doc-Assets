<article class="bcls-article">
<section id="APIs_used" class="bcls-section">
<h2>APIs used</h2>

<p>This sample uses two Brightcove APIs:</p>

<ul>
	<li><a href="/node/18034">CMS API</a> (to find recently added videos)</li>
	<li>Analytics API (to get the analytics)</li>
</ul>
</section>

<section class="bcls-section" id="sampleApp">
<h2>Sample App</h2>

<p>Below is a working sample app, which you can use on your own account or on a sample Brightcove account.</p>

<fieldset class="bcls-fieldset"><legend>Input</legend>

<h5><strong>Account id:</strong> <input id="account_id" type="text" placeholder="1752604059001" /></h5>

<h5><strong>Client id (needs read access for the CMS and Analytics APIs):</strong> <input id="client_id" type="text" size="60" placeholder="c5d0a622-5479-46d8-8d8a-5f034b943fab" /></h5>

<h5><strong>Client secret (needs read access for the CMS and Analytics APIs):</strong> <input id="client_secret" type="text" size="60" placeholder="w7NQYu0vUloM4GYYy2SXAxrvyFpt8fwI35qAFZcS13-VIgs0itwKNsAwHOS80sOWKJ1BUwHIvSFG2IbgcxEGKg" /></h5>

<h5>Select Dimension(s) to report on:</h5>

<div id="dimensionsCol1" class="fields-list-col">&nbsp;</div>

<div id="dimensionsCol2" class="fields-list-col">&nbsp;</div>

<h5>Fields to return:<button id="fieldsButton" class="bcls-button">Select All</button><button id="deselectFieldsButton" class="bcls-button">Deselect All</button></h5>

<div id="fieldsCol1" class="fields-list-col">&nbsp;</div>

<div id="fieldsCol2" class="fields-list-col">&nbsp;</div>

<h5>Get videos created in the past <select name="dateSelect" id="dateSelect"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="30" selected="selected">30</option><option value="60">60</option><option value="90">90</option><option value="180">180</option><option value="365">365</option></select> days</h5>

<p><button id="getData" class="bcls-button">Get Analytics Data</button></p>
</fieldset>

<fieldset class="bcls-fieldset"><legend>Output</legend>

<h5>&nbsp;</h5>

<h5>&nbsp;</h5>

<h5><strong>API request:</strong></h5>
<textarea id="apiRequest" class="bcls-code"></textarea>

<h5><strong>Request method:</strong></h5>

<h5><strong>Response data</strong></h5>

<pre class="line-numbers">

&nbsp;</pre>
</fieldset>
</section>

<section class="bcls-section" id="howDone">
<h2>Code</h2>

<p>There are four parts to the app:</p>

<ul>
	<li>The <a href="#html">HTML</a></li>
	<li>A <a href="#model">data model</a> for the Analytics API (this data could have just been created in the JavaScript, but I already had the model for other purposes)</li>
	<li>The <a href="#javascript">JavaScript</a></li>
	<li>The <a href="#proxy">proxy</a> (gets access tokens and makes the API requests - written in PHP, but any server-side language will do)</li>
</ul>

<h3 id="html">HTML code</h3>

<pre class="line-numbers">
<code class="language-html">&lt;fieldset&gt;
    &lt;legend&gt;Input&lt;/legend&gt;
    &lt;h5&gt;&lt;strong&gt;Account id:&lt;/strong&gt; &lt;input id="account_id" type="text" placeholder="1752604059001"&gt;&lt;/h5&gt;
    &lt;h5&gt;&lt;strong&gt;Client id:&lt;/strong&gt; &lt;input id="client_id" type="text" size="60" placeholder="c5d0a622-5479-46d8-8d8a-5f034b943fab"&gt;&lt;/h5&gt;
    &lt;h5&gt;&lt;strong&gt;Client secret:&lt;/strong&gt; &lt;input id="client_secret" type="text" size="60" placeholder="w7NQYu0vUloM4GYYy2SXAxrvyFpt8fwI35qAFZcS13-VIgs0itwKNsAwHOS80sOWKJ1BUwHIvSFG2IbgcxEGKg"&gt;&lt;/h5&gt;
    &lt;h5&gt;Select Dimension(s) to report on:&lt;/h5&gt;
    &lt;div id="dimensionsCol1" class="fields-list-col"&gt;&lt;/div&gt;
    &lt;div id="dimensionsCol2" class="fields-list-col"&gt;&lt;/div&gt;

    &lt;h5&gt;Fields to return: &lt;button id="fieldsButton" class="bcls-button"&gt;Select All&lt;/button&gt; &lt;button id="deselectFieldsButton" class="bcls-button"&gt;Deselect All&lt;/button&gt;&lt;/h5&gt;
    &lt;div id="fieldsCol1" class="fields-list-col"&gt;&lt;/div&gt;
    &lt;div id="fieldsCol2" class="fields-list-col"&gt;&lt;/div&gt;
    &lt;h5&gt;Get videos created in the past
&lt;select name="dateSelect" id="dateSelect"&gt;
    &lt;option value="1"&gt;1&lt;/option&gt;
    &lt;option value="2"&gt;2&lt;/option&gt;
    &lt;option value="3"&gt;3&lt;/option&gt;
    &lt;option value="4"&gt;4&lt;/option&gt;
    &lt;option value="5"&gt;5&lt;/option&gt;
    &lt;option value="6"&gt;6&lt;/option&gt;
    &lt;option value="7"&gt;7&lt;/option&gt;
    &lt;option value="30" selected="selected"&gt;30&lt;/option&gt;
    &lt;option value="60"&gt;60&lt;/option&gt;
    &lt;option value="90"&gt;90&lt;/option&gt;
    &lt;option value="180"&gt;180&lt;/option&gt;
    &lt;option value="365"&gt;365&lt;/option&gt;
&lt;/select&gt;
days
&lt;/h5&gt;
&lt;p&gt;&lt;button id="getData" class="bcls-button"&gt;Get Analytics Data&lt;/button&gt;&lt;/p&gt;
&lt;/fieldset&gt;
&lt;fieldset&gt;
    &lt;legend&gt;Output&lt;/legend&gt;
    &lt;h5&gt;&lt;strong id="count"&gt;&lt;/strong&gt;&lt;/h5&gt;
    &lt;h5&gt;&lt;strong id="logger"&gt;&lt;/strong&gt;&lt;/h5&gt;
    &lt;h5&gt;&lt;strong&gt;API request:&lt;/strong&gt;&lt;/h5&gt;
    &lt;textarea id="apiRequest"&gt;&lt;/textarea&gt;
    &lt;h5&gt;&lt;strong&gt;Request method:&lt;/strong&gt;&lt;/h5&gt;
    &lt;pre id="apiMethod"&gt;&lt;/pre&gt;
    &lt;h5&gt;&lt;strong&gt;Response data&lt;/strong&gt;&lt;/h5&gt;
    &lt;pre id="responseData"&gt;&lt;/pre&gt;
&lt;/fieldset&gt;
</code></pre>

<h3 id="model">Data model for the Analytics API</h3>

<pre data-src="//docs.brightcove.com/en/video-cloud/analytics-api/assets/aapi-model.js?buster" class="line-numbers language-javascript">

&nbsp;</pre>

<h3 id="javascript">Javascript</h3>

<pre data-src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/analytics-api/code-samples/analytics-recent-videos/analytics-recent-videos.js?buster" class="line-numbers language-javascript">

&nbsp;</pre>

<h3 id="proxy">Proxy</h3>

<aside class="bcls-aside bcls-aside--information">In order to build your own version the sample app on this page, you must create and host your own proxy. (The proxies used by Brightcove Learning Services only accept requests from Brightcove domains.) You can download two versions of our proxy code:
<ul>
	<li><a href="//learning-services-media.brightcove.com/doc-assets/proxy/bcls-proxy-for-distribution.php.zip">This is a general version that expects client credentials to be passed with the request</a></li>
	<li><a href="//learning-services-media.brightcove.com/doc-assets/proxy/doc-samples-proxy.php.zip">This version allows you to save your client credentials in the proxy itself on lines 25-26 (recommended)</a></li>
</ul>
</aside>
</section>
</article>
<script src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/analytics-api/aapi-model-v1.min.js"></script><script src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/analytics-api/code-samples/analytics-recent-videos/analytics-recent-videos.js"></script>

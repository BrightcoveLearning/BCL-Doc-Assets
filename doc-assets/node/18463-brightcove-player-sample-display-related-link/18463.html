<article class="bcls-article">
    <section id="Development_sequence" class="bcls-section">
        <h2 class="bcls-expander-head">Development sequence</h2>
        <div class="bcls-expander-content">
            <p>Here is the recommended development sequence:</p>
            <ol>
                <li>Use the embed_in_page player implementation to test the functionality of your player, plugin and CSS (if CSS is needed)</li>
                <li>Put the plugin's JavaScript and CSS into separate files for local testing</li>
                <li>Deploy the plugin code and CSS to your server once you have worked out any errors</li>
                <li>Use the new Video Cloud Studio to add the plugin and CSS to your player</li>
                <li>Replace the embed_in_page player implementation if you determine that the iframe implementation is a better fit (detailed in next section)</li>
            </ol>
            <p>For details about these steps, review the <a href="//docs.brightcove.com/en/player/brightcove-player/guides/plugin-dev-quick-start.html">Quick Start to Plugin Development</a> guide.</p>
            <h3>iframe or embed_in_page</h3>
            <p>When developing enhancements for the Brightcove player you will need to decide if the code is a best fit for the iframe or embed_in_page implementation. The best practice recommendation is to build a plugin for use with an iframe implementation.
                The advantages of using the iframe player are:</p>
            <ul>
                <li>No collisions with existing JavaScript and/or CSS</li>
                <li>Automatically responsive</li>
                <li>The iframe eases use in social media apps (or whenever the video will need to "travel" into other apps)</li>
            </ul>
            <p>Although integrating the embed_in_page player can be more complex, there are times when you will plan your code around that implementation. To generalize, this approach is best when the containing page needs to communicate to the player. Specifically,
                here are some examples:</p>
            <ul>
                <li>Code in the containing page needs to listen for and act on player events</li>
                <li>The player uses styles from the containing page</li>
                <li>The iframe will cause application logic to fail, like a redirect from the containing page</li>
            </ul>
            <p>Even if your final implementation does not use the iframe player, you can still use the embed_in_page player with a plugin that contains your JavaScript and CSS. This encapsulates your logic so that you can easily use it in multiple players.</p>
        </div>
    </section>
    <section id="Select_implementation" class="bcls-section">
        <h2>Select implementation</h2>
        <p>In this sample, the player is going to interact with the parent page, so the in-page embed implementation will be used.</p>
    </section>

    <section id="API/Plugin_resources_used" class="bcls-section">
        <h2>API resources used</h2>
        <p>The following sections detail resources used from various APIs.</p>
        <h3>Brightcove Player API</h3>
        <ul>
            <li><code>on()</code>: Method to associate an event handler with an event, in this case <code>loadstart</code>.</li>
            <li><code>mediainfo</code>: Object containing video information.</li>
        </ul>
    </section>

    <section id="The_player" class="bcls-section">
        <h2>The player</h2>
        <p>Look below the player and you see the dynamically create link in the HTML page.</p>

        <video id="myPlayerID" data-video-id="5165694790001" data-account="1752604059001" data-player="HJSEihoR" data-embed="default" data-application-id class="video-js" controls></video>
        <p id="cta" style='color:red; font-weight: bold; font-size: 20px'></p>
    </section>

    <section id="How_it_works" class="bcls-section">
        <h2>How it works</h2>
        <p>For every video with which you want use the related link you will need to enter the <strong>Related Link URL</strong> and <strong>Related Link Text</strong> in <span class="video-cloud-only">Video Cloud</span><span class="player-only">Perform</span>            Studio. You do this in the <strong>MEDIA > VIDEO INFORMATION</strong> section, as shown here:</p>
        <figure class="bcls-figure">
            <img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/player-development/samples/display-related-link/studio-fill-in-form.png" alt="Related link in studio">
            <figcaption class="bcls-caption--image">Related link in studio</figcaption>
        </figure>
        <p>JavaScript is then used to:</p>
        <ul>
            <li>Populate the <code>mediainfo</code> property.</li>
            <li>Dynamically build an HTML anchor tag with a link.</li>
            <li>Use the dynamically built HMTL in the HTML page.</li>
        </ul>
        <p>The following sections explain the player, JavaScript and CSS code used in the example.</p>
        <h3>Create the player</h3>
        <div class="video-cloud-only">
            <p>To create a player and assign a video to it, follow these steps:</p>
            <ol class="bcls-tasklist">
                <li>Using Video Cloud Studio, in the <strong>Players</strong> module, create a new player or use an existing one.</li>
                <li>In the <strong>Media</strong> module, select a video and publish it with this player.</li>
                <li>Copy the In-Page embed code and paste it into a new HTML file.</li>
            </ol>
        </div>

        <h3>The player code</h3>
        <p>Your player code should look similar to the following:</p>
<pre class="line-numbers"><code class="language-html">&lt;video id=&quot;myPlayerID&quot;
data-video-id=&quot;5165694790001&quot;
data-account=&quot;1752604059001&quot;
data-player=&quot;HJSEihoR&quot;
data-embed=&quot;default&quot;
data-application-id
class=&quot;video-js&quot;
controls&gt;&lt;/video&gt;</code></pre>
        <aside class="bcls-aside bcls-aside--information">Note that an <code>id</code> has been added to the code.</aside>

        <h3>The HTML code</h3>
        <p>Here, you will add the target in which your link will appear in your page code.</p>
        <ol class="bcls-tasklist">
            <li>
                <p>
                    Add the following HTML to your page code where you wish your link to appear:
                </p>
                <pre class="line-numbers"><code class="language-html">&lt;p id=&quot;linkHere&quot; style='color:red; font-weight: bold; font-size: 20px'&gt;&lt;/p&gt;</code></pre>
            </li>
        </ol>

        <h3>The JavaScript code</h3>
        <p>Here you will build and insert the link into the HTML.</p>
        <ol class="bcls-tasklist">
            <li>
                <p>
                    Add the following JavaScript to your page code:
                </p>
                <ul>
                    <li>Line 1: Link to the JavaScript file for the player.</li>
                    <li>Lines 4, 12: Wait for the player to be ready for programmatic interaction.</li>
                    <li>Line 5: Create a variable to hold a reference to the player.</li>
                    <li>Line 6, 11: Add an event listener for the <code>loadstart</code> event. In the anonymous event handler function you can access video information stored in the <code>mediainfo</code> object.</li>
                    <li>Lines 7, 8: Extract the link text and link URL from the metadata and store in variables. Of course, this would not have to be done, but it makes the next line of code that dynamically builds the anchor tag much neater.</li>
                    <li>Line 9: Build an HTML anchor tag using the variables just created. Note a <code>target</code> is used to open the linked page in a new window or tab.</li>
                    <li>Line 10: Inject the dynamically built anchor tag into the HTML page.</li>
                </ul>
                <pre class="line-numbers"><code class="language-javascript">  &lt;script src=&quot;//players.brightcove.net/1752604059001/7bf38d3b-968a-4dec-855c-3f98e08604df_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    videojs('myPlayerID').ready(function(){
        var myPlayer = this;
        myPlayer.on('loadstart', function(evt) {
        var linkText = myPlayer.mediainfo.link.text,
          linkURL = myPlayer.mediainfo.link.url,
          hrefString = '&lt;a href = &quot;' + linkURL + '&quot; target=&quot;_blank&quot;&gt;' +  linkText + '&lt;/a&gt;';
        document.getElementById('linkHere').innerHTML = hrefString;
        });
    });
&lt;/script&gt;</code></pre>
            </li>
        </ol>

        <h3>The stylesheet</h3>
        <p>This example uses CSS styles for the Brightcove player, the Overlay plugin and the Endscreen plugin.</p>
        <ol class="bcls-tasklist">
            <li>
                <p>
                    Add the following to your page code:
                </p>
                <ul>
                    <li>Lines 2-5: Set the size of the player.</li>
                </ul>
                <pre class="line-numbers"><code class="language-html">&lt;style&gt;
    .video-js {
        height: 344px;
        width: 610px;
    }
&lt;/style&gt;</code></pre>
            </li>
        </ol>

        <h3>Full code</h3>
        <p>Here is the full code for the sample:</p>
        <pre class="line-numbers" data-start="1"><code class="language-html">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;Untitled Document&lt;/title&gt;
&lt;style&gt;
.video-js {
height: 344px;
width: 610px;
}
&lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;video id=&quot;myPlayerID&quot;
data-video-id=&quot;5165694790001&quot;
data-account=&quot;1752604059001&quot;
data-player=&quot;HJSEihoR&quot;
data-embed=&quot;default&quot;
data-application-id
class=&quot;video-js&quot;
controls&gt;&lt;/video&gt;
&lt;p id=&quot;linkHere&quot; style='color:red; font-weight: bold; font-size: 20px'&gt;&lt;/p&gt;

&lt;script src=&quot;//players.brightcove.net/1752604059001/HJSEihoR_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
videojs('myPlayerID').ready(function(){
var myPlayer = this;
myPlayer.on('loadstart', function(evt) {
var linkText = myPlayer.mediainfo.link.text,
  linkURL = myPlayer.mediainfo.link.url,
  hrefString = '&lt;a href = &quot;' + linkURL + '&quot; target=&quot;_blank&quot;&gt;' +  linkText + '&lt;/a&gt;';
document.getElementById('linkHere').innerHTML = hrefString;
});
});
&lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
    </section>

    <section id="Use_iframe" class="bcls-section">
        <h2>Use iframe</h2>
        <p>The iframe implementation cannot be used in this case since the player needs to interact with the parent HTML page.</p>
    </section>

</article>

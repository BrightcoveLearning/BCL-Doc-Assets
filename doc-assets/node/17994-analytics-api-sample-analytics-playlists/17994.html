<link href="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/js/pikaday/pikaday.css" rel="stylesheet" />
<article class="bcls-article">
<section id="Notes" class="bcls-section">
<h2>Limitations</h2>

<aside class="bcls-aside bcls-aside--information">
<ul>
	<li>You must retrieve playlist data and select a playlist before submitting the request to the Analytics API</li>
	<li>For smart playlists, analytics data will be returned for videos currently in the playlist - data will not be returned for videos that are no longer in the playlist because they have been deactivated, deleted, or removed because the definition of the playlist has changed</li>
	<li>If any of the videos are also published in single video players, or in multiple playlists, you will need to specify the player to get accurate data for a specific playlist</li>
	<li>The returned data includes the data for individual videos plus cumulative or average values for the playlist</li>
	<li>If the returned data does not include items for all videos in the playlist, no data was returned for those videos over the time period specified</li>
</ul>
</aside>
</section>

<section id="logic" class="bcls-section">
<h2>App Logic</h2>

<p>This is a hybrid app that uses the CMS API to retrieve playlist information, and then the Analytics API to retrieve analytics for the videos in the playlist. There is a slight twist: for EXPLICIT (manual) playlist, the metadata includes the video ids, so we can take those directly to the Analytics API; for smart playlists, however, we need to go back to CMS API using the search, sort, and limit criteria for the playlist to get the video information, which we can then take to the Analytics API:</p>

<figure class="bcls-figure"><img class="bcls-image" alt="App Logic" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/analytics-api/code-samples/analytics-by-playlist/get-analytics-by-playlist.png" />
<figcaption class="bcls-caption--image">App Logic</figcaption>
</figure>
</section>

<section id="Request_Options" class="bcls-section">
<h2>Request Options</h2>

<p>Where no default value is indicated, there is none.</p>

<div id="inputFields" class="input-fields">
<fieldset class="bcls-fieldset"><legend>Basic Information</legend>

<p>By default, you will get results from the Brightcove Training Videos account.</p>

<p><button class="bcls-button" id="useMyAccount">Use My Account Instead</button></p>

<div id="basicInfo" style="display:none;">
<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<td>Video Cloud Account (Publisher ID):</td>
			<td><input id="accountID" class="required aapi-request" type="text" size="55" /></td>
		</tr>
		<tr>
			<td class="align-top no-wrap">Client id:</td>
			<td><input id="client_id" class="required aapi-request" type="text" size="100" value="" /> (must include permissions for Analytics/Read, Videos/Read, and Playlists/Read)
			<p>&nbsp;</p>
			</td>
		</tr>
		<tr>
			<td class="align-top no-wrap">Client secret:</td>
			<td><input id="client_secret" class="required aapi-request" type="text" size="100" value="" /> (must include permissions for Analytics/Read, Videos/Read, and Playlists/Read)
			<p>&nbsp;</p>
			</td>
		</tr>
	</tbody>
</table>

<p class="small" id="n1"><sup class="red">[1]</sup> See <a href="/node/14056">Managing API Credentials</a> for information on getting client credentials.</p>
</div>
</fieldset>

<fieldset class="bcls-fieldset"><legend>Select Playlist</legend>

<p><button class="bcls-button" id="getPlaylists">Get Playlists</button></p>

<div class="bcls-hidden" id="playlistSelectWrapper">
<p id="playlists"><select id="playlistSelector"></select></p>
</div>
</fieldset>

<fieldset id="aapiParams" class="bcls-hidden"><legend>Filters</legend>

<div id="filters">
<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<td>From:</td>
			<td>Date: <input class="date-range" id="from" type="text" size="30" /> (default: 30 days ago -- choose the same date for From and To to get a report for that day)</td>
		</tr>
		<tr>
			<td>To:</td>
			<td>Date: <input class="date-range" id="to" type="text" size="30" /> (default: now)</td>
		</tr>
		<tr>
			<td>Where:</td>
			<td>Player ID = <input id="player" class="where-input aapi-request" type="text" size="40" value="" /></td>
		</tr>
		<tr>
			<td>Format for response data</td>
			<td><select id="format"><option selected="selected">json</option><option>csv</option></select></td>
		</tr>
	</tbody>
</table>
</div>
</fieldset>
</div>
</section>

<section id="API_Request" class="bcls-section">
<h2>API Request</h2>

<div id="requestSubmitter" class="bcls-hidden">
<fieldset class="bcls-fieldset"><legend>Generated Request</legend>

<p>API Request</p>
<textarea id="request" name="request" class="bcls-code"></textarea></fieldset>

<p><button class="bcls-button" id="submitButton">Submit Request</button></p>
</div>
</section>

<section id="response" class="bcls-section">
<h2>Response</h2>

<p>In the <strong>Summary</strong> portion of the response, you will find average values for the playlist.</p>

<pre class="line-numbers">

&nbsp;</pre>
</section>

<section class="bcls-section" id="jscode">
<h2>JavaScript Code</h2>

<p>JavaScript code for this sample:</p>

<pre data-src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/analytics-api/code-samples/analytics-by-playlist/analytics-by-playlist.js?buster" class="line-numbers language-javascript">

&nbsp;</pre>

<h3>Proxy</h3>

<aside class="bcls-aside bcls-aside--information">In order to build your own version the sample app on this page, you must create and host your own proxy. (The proxies used by Brightcove Learning Services only accept requests from Brightcove domains.) You can download two versions of our proxy code:
<ul>
	<li><a href="//learning-services-media.brightcove.com/doc-assets/proxy/bcls-proxy-for-distribution.php.zip">This is a general version that expects client credentials to be passed with the request</a></li>
	<li><a href="//learning-services-media.brightcove.com/doc-assets/proxy/doc-samples-proxy.php.zip">This version allows you to save your client credentials in the proxy itself on lines 25-26 (recommended)</a></li>
</ul>
</aside>
</section>
</article>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script><script src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/js/pikaday/pikaday.min.js"></script><script src="https://learning-services-media.brightcove.com.s3.amazonaws.com/doc-assets/node/17994-analytics-api-sample-analytics-playlists/analytics-by-playlist.js"></script>

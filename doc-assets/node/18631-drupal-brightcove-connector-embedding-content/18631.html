<article class="bcls-article">
  <section class="bcls-section">
    <h2 id="Introduction">Introduction</h2>
    <p>The Drupal-Brightcove Connector allows you to manage Brightcove Video Cloud videos and players within Drupal, and easily embed videos in Drupal pages.</p>
    <aside class="bcls-aside bcls-aside--warning"><p>Drupal installation is a complicated process that very easily goes wrong. Make sure your content is backed up before proceeding.</p>
    </aside>
    <p>Note: this document assumes that Brightcove has already been installed and configured for Drupal. If you have not done so already, go back and <a href="https://support.brightcove.com/drupal-brightcove-connector-installation">install</a> and <a href="https://support.brightcove.com/drupal-brightcove-connector-configuration">configure</a> Brightcove for Drupal first.</p>
    <p>While this page will focus on how to add Brightcove videos to Drupal content, the same steps can be followed to add Playlists.</p>
  </section>
  <section class="bcls-section">
    <h2 id="add-brightcove-video-field">Add Brightcove Video Field</h2>

    <p>The first step in including Brightcove videos in any Drupal content type is to add a video. To do so, first navigate to Structure and select Content types.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/structure-content-types.png" alt="Click on structure, then click on content types.">
    </figure>

    <p>Then, choose the content type you would like to add Brightcove videos to and select Manage fields.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/content-types-manage-fields.png" alt="Select manage fields." width="800">
    </figure>

    <p>From there, click the "Add Field" button at the top.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/manage-fields-add-fields.png" alt="Click on the big blue button at the top.">
    </figure>

    <p>You will be taken to the Add a new field page. Select Reference/Other.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/add-field-other.png" alt="The 'other' option within Reference.">
    </figure>

    <p>Give your field a label, then click save and continue.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/add-field-label.png" alt="Brightcove Video is a good label, but there are other options.">
    </figure>

    <p>On the next screen, in the "Type of item to reference field," choose Brightcove Video. If you are instead trying to embed playlists, choose Brightcove Playlist. The "Allowed number of values" should be unlimited.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/brightcove-video-settings-reference.png" alt="Choose what item you want the field to reference.">
    </figure>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/brightcove-settings-complete.png" alt="Unlimited value.">
    </figure>

    <p>Now, if you navigate to the Add new content page and select the type of content where we just included the Brightcove Video field, you will see a Brightcove Video option below the text box.</p>

    <p>By default, the field works through autocomplete. Start typing the name of a video and it should pop up.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/add-content-autocomplete.png" alt="Autocomplete video names.">
    </figure>

    <p>This is a fine method of selecting videos when you know the specific title of the one you want, but it's not very convenient for browsing. For easier video selection, we need an entity browser.</p>

  </section>
  <section class="bcls-section">
    <h2 id="create-entity-browser">Create Entity Browser</h2>

    <p>To start with, navigate to the Extend secton and find the Entity Browser module. Select the checkbox, and click install. The easiest way to locate the module is to start typing the name in the search bar.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/extend-entity-browser.png" alt="Select entity browser and click install." width="800">
    </figure>

    <p>Next, set up a custom view to browse videos. Click on the Structure tab, then click on Views.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/structure-views.png" alt="Navigate to the views page." width="800">
    </figure>

    <p>Click "Add view." This will take you to the "Add new view" page. Give the View a name, then select "Brightcove Video" from the View settings menu. Click "Save and edit."</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/add-view-completed.png" alt="Brightcove video view selected.">
    </figure>

    <p>Next, click the "+Add" in the Displays section and select "Entity Browser." Then hit Save.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/add-view-completed.png" alt="Make an entity browser.">
    </figure>

    <p>For format, choose "Table" by clicking on the default option and selecting Table.</p>

    <p>Now, it's time to add in fields for the browser. Make sure it says <i>Entity Browser</i> in the corner. You should be automatically switched into it after having selected it.</p>

    <p>To add fields, click the "Add" button next to the "Fields" header. Fields can largely be a matter of taste, but be sure to have the "Brightcove Video: Entity browser bulk select form" as an option so that videos can be selected. Name and thumbnail are also good to have. The one field it is very good to <i>not</i> have is the one they put in by default: the "Rendered Entity." The Rendered Entity is the full video and all meta information, and including it in the entity browser. This makes it bulky and less useful for quickly browsing videos.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/entity-browser-fields-selections.png" alt="Suggested field selections, plus where to click to make it happen." width="800">
    </figure>

    <p>Don't forget to hit save.</p>

    <p>Now, you need to set up the entity browser widget. To do this, first enable the chaos tools suite if you have not already.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/extend-chaos-tools.png" alt="Use the search box to find as usual." width="800">
    </figure>

    <p>Navigate to Configuration and select the Entity Browser option.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/configuration-entity-browsers.png" alt="Navigate to the Entity Browsers page." width="800">
    </figure>

    <p>On the resulting page, click "Add entity browser" at the top. On the resulting page, add a label for your new widget, then make your selections. For now, a Modal display plugin, a single widget, and no selection display will work fine.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/entity-browser-creation.png" alt="Navigate to the Entity Browsers page." width="800">
    </figure>

    <p>Hit next. The next few pages either have fine default options or no options at all. Continue until you reach the final screen, which has the word "Finish" at the bottom instead of next. Select View in the Add widget plugin menu, then give your widget a label. In View Display, select "Brightcove video browser: Entity browser."</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/configuration-entity-browsers.png" alt="Navigate to the Entity Browsers page." width="800">
    </figure>

    <p>The next step is to make sure the browser is accessible from the Add Content page.</p>

  </section>

  <section class="bcls-section">
    <h2 id="add-browser-to-new-content-page">Add Browser To New Content Page</h2>

    <p>Navigate to Content types in the Structure section again. This time, Click on the arrow on the side of the Operations field of the desired content type, then select "Manage form display."</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/content-type-article-manage-form-display.png" alt="Manage form display." width="800">
    </figure>

    <p>In the Brightcove video field, click the dropdown and select "Entity Browser" instead of "Autocomplete." There is currently no entity browser selected. To change that, click on the settings icon. Select your Brightcove video browser, then hit update.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/brightcove-entity-browser-settings.png" alt="How to select entity browser and get into settings." width="800">
    </figure>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/brightcove-video-settings.png" alt="fill out form options." width="800">
    </figure>

    <p>Your widget is now set up! When you go to the appropriate Add content page, you'll see the option to select videos in the Brightcove field rather than using autocomplete.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/select-vid.png" alt="videos selected." width="800">
    </figure>

    <p>But perhaps you want to upload videos straight from the new post screen. The good news is: we can add a tab for that.</p>

  </section>

  <section class="bcls-section">
    <h2 id="add-upload-tab">Add An Upload Tab</h2>

    <p>While browsing videos is an important task, you also might want to upload new videos from the same page that you use to post. To do that, we can add an "upload" tab to our entity browser. First, though, we'll need the Entity Browser IEF (Inline Entity Form) submodule. Navigate to Extend to find it.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/extend-entity-browser-ief.png" alt="Select entity browser IEF and click install." width="800">
    </figure>

    <p>Then, on the Configuration page, select "Entity Browsers" under the "Content Authoring" header.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/configuration-entity-browsers.png" alt="Navigate to the Entity Browsers page." width="800">
    </figure>

    <p>You should already have an entity browser set up from before. Hit Edit to update it.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/entity-browser-edit.png" alt="Edit Entity browser" width="800">
    </figure>

    <p>Change the Widget selector plugin from Single widget to tabs.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/general-information-tabs.png" alt="Change widget selector plugin." width="800">
    </figure>

    <p>Hit next until you get to the last configuration page (the one with "Finish" at the bottom). In the "Add widget plugin" dropdown menu there is now an "Entity Form" option.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/widgets-entity-form.png" alt="Select add widget plugin entity form option." width="800">
    </figure>

    <p>This will add a form below the first form. Add a label and select "Brightcove Video" for the Entity type and Bundle. Hit finish.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/widgets-entity-form-filled-out.png" alt="fill out form options." width="800">
    </figure>

    <p>However, there are still a few problems with this approach. The biggest one is that this does not lead to embedded videos, just ones that are included with the post. It also would be nice to have a smaller, more convenient button right in the editor. Fortunately, you can fix both of these problems at once.</p>

  </section>

  <section class="bcls-section">
    <h2 id="add-brightcove-button">Embedding Videos</h2>

    <p>First, you need to enable the Entity Embed and Embed modules, as well as the CKEditor module, if you don't already have it.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/extend-entity-embed.png" alt="Embed and Entity Embed." width="800">
    </figure>

    <p>Now, navigate to Configuration. In the "Content Authoring" section, select "Text editor embed buttons."</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/configuration-text-editor-embed-buttons.png" alt="Text editor embed buttons" width="800">
    </figure>

    <p>Click Add embed button. Give your button a label, select "Entity" for the Embed type and "Brightcove Video" for the entity type. Your Entity browser should be whatever the browser you created for Brightcove.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/add-embed-button.png" alt="fill out form options." width="800">
    </figure>

    <p>Also, if you want an icon, you'll need to upload it here, otherwise it will just be the default button icon. Here is a small Brightcove logo icon you can use.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/bc-logo-small.png" alt="I made this tiny icon so you don't have to.">
    </figure>

    <p>Now, return to Entity Browsers on the Configuration page. Choose edit for your browser widget, and change the Display plugin to iFrame. Drupal 8 cannot currently handle multiple modal calls, so to embed videos with CKEditor, it must be iFrame.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/edit-entity-browser-iframe.png" alt="iFrame selection." width="800">
    </figure>

    <p>Click through the "Next" options, and then hit "Finish."</p>

    <p>Now that that's set up, head back to Configuation and choose "Text formats and editors."</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/configuration-text-formats-and-editors.png" alt="Text formats and editors." width="800">
    </figure>

    <p>Choose to configure the text format where you want to add the entity embed button. Keep in mind that when posting, you will have to make sure to use this text format, or add the entity embed button to more formats.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/text-formats-and-editors-configure.png" alt="I used basic, but any work." width="800">
    </figure>

    <p>Make sure "CKeditor" is selected for the Text editor. Your new Brightcove button will be listed in the Available buttons, and can be dragged to the Active toolbar.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/toolbar-button-configuration.png" alt="fill out form options." width="800">
    </figure>

    <p>Make sure "Display embedded entities" is selected, and click Save configuration.</p>

    <p>Now navigate to the Add content page. Make sure the correct text format is chosen, and click your button!</p>

    <p>But wait, there's still one problem. When you select your video, it only gives you two display options, and neither are very useful.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/entity-id-label.png" alt="Not good choices.">
    </figure>

    <p>Displaying the entity ID or just a label will not give you an actual video. To do that, you need to add a new view.</p>

  </section>

  <section class="bcls-section">
    <h2 id="add-brightcove-view">Add Brightcove View</h2>

    <p>First, create a new view. To do that, go to the Structure page and select "Display modes." Then click on "View modes"</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/structure-display-mordes.png" alt="Structure then display modes.">
    </figure>

    <p>Click "Add a new view." Choose "Brightcove video" as the new view mode entity type. Give your new view a label and hit save.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/choose=view-mode-entity-type.png" alt="Choose view mode entity type.">
    </figure>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/add-new-brightcove-view-mode.png" alt="Brightcove view mode.">
    </figure>

    <p>You should now see a view listed under Brightcove Video.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/brightcove-video-mode-added.png" alt="Brightcove video view.">
    </figure>

    <p>Next, enable the new view mode. Go to Brightcove Video settings in the Structure menu, then select the Manage display tab. At the bottom, there is a "Custom display settings" box. Select your new custom view and hit save.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/custom-display-settings-brightcove.png" alt="custom brightcove video view enabled." width="800">
    </figure>

    <p>Finally, clear your cache by navigating to Performance in the Configuration menu, and clicking clear all caches.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/clear-all-caches.png" alt="clear caches.">
    </figure>

    <p>Now you should be able to select Brightcove Video as the view to display!</p>

    <figure class="bcls-figure">
      <img class="bcls-image" src="//learning-services-media.brightcove.com/doc-assets/node/18631-drupal-brightcove-connector-embedding-content/embed-as-video.png" alt="Embed as video">
    </figure>

  </section>

  <p>Also check out <a href="https://support.brightcove.com/drupal-brightcove-connector-content-management">content management with Drupal.</a> </p>
</article>
